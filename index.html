<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>PV d'installation – Enodis</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Couleur de thème PWA -->
    <meta name="theme-color" content="#d60000">
</head>

<body>

<header class="header-enodis">
    <img src="logo-enodis.png" class="logo-enodis" alt="Logo Enodis">
    <div class="header-title">
        <h1>Procès-Verbal d’Installation</h1>
        <p class="subtitle">FES/FCM - Crée par Robert AURAY</p>
    </div>
</header>

<main class="container">

    <!-- SECTION CLIENT -->
    <section class="bloc">
        <h2 class="titre-section">1. Informations Client</h2>
        <div class="grid-2">
            <div class="form-group">
                <label>Date</label>
                <input id="date" type="date">
            </div>
            <div class="form-group">
                <label>Nom du client</label>
                <input id="nomClient" type="text">
            </div>
            <div class="form-group">
                <label>Adresse</label>
                <input id="adresse" type="text">
            </div>
            <div class="form-group">
                <label>Ville</label>
                <input id="ville" type="text">
            </div>
            <div class="form-group">
                <label>Représentant</label>
                <input id="representant" type="text">
            </div>
        </div>
    </section>

    <!-- SECTION APPAREILS -->
    <section class="bloc">
        <h2 class="titre-section">2. Appareils Installés</h2>

        <table class="table-appareils">
            <thead>
                <tr>
                    <th>Type</th>
                    <th>N° de série</th>
                    <th>Modèle</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><input id="type_0"></td><td><input id="serie_0"></td><td><input id="modele_0"></td></tr>
                <tr><td><input id="type_1"></td><td><input id="serie_1"></td><td><input id="modele_1"></td></tr>
                <tr><td><input id="type_2"></td><td><input id="serie_2"></td><td><input id="modele_2"></td></tr>
                <tr><td><input id="type_3"></td><td><input id="serie_3"></td><td><input id="modele_3"></td></tr>
                <tr><td><input id="type_4"></td><td><input id="serie_4"></td><td><input id="modele_4"></td></tr>
                <tr><td><input id="type_5"></td><td><input id="serie_5"></td><td><input id="modele_5"></td></tr>
            </tbody>
        </table>
    </section>

    <!-- SECTION CONTROLES -->
    <section class="bloc">
        <h2 class="titre-section">3. Contrôles et Vérifications</h2>

        <div class="form-group">
            <label>Tests réalisés oui/non si non expliqué</label>
            <textarea id="tests"></textarea>
        </div>

        <div class="form-group">
            <label>Installation oui/non si non expliqué</label>
            <textarea id="installation"></textarea>
        </div>

        <div class="form-group">
            <label>Formation oui/non si non expliqué</label>
            <textarea id="formation"></textarea>
        </div>
    </section>

    <!-- SECTION SIGNATURES -->
    <section class="bloc">
        <h2 class="titre-section">4. Signatures</h2>

        <div class="grid-2">
            <div>
                <label>Technicien</label>
                <input id="nomTech" type="text">
                <div class="signature-zone">
                    <canvas id="signatureTech"></canvas>
                </div>
                <button class="btn-clear" data-clear="signatureTech">Effacer</button>
            </div>

            <div>
                <label>Client</label>
                <input id="nomClientSign" type="text">
                <div class="signature-zone">
                    <canvas id="signatureClient"></canvas>
                </div>
                <button class="btn-clear" data-clear="signatureClient">Effacer</button>
            </div>
        </div>
    </section>

    <!-- SECTION EXPORT -->
    <section class="bloc bloc-final">
        <h2 class="titre-section">5. Génération du PV</h2>

        <button id="genererPdf" class="btn-primary">Générer le PDF d'installation</button>

        <!-- BOUTON INSTALLATION PWA -->
        <button id="installBtn" class="btn-primary" style="margin-top:20px; display:none;">
            Installer l'application
        </button>
    </section>

</main>

<!-- SCRIPTS -->
<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
<script src="mapping-coordonnées.js"></script>
<script src="signature.js"></script>
<script src="pdf-export.js"></script>
<script src="app.js"></script>

<!-- PWA -->
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>